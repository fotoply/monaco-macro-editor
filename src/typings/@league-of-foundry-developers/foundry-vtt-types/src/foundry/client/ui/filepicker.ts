
    export default [
      "@league-of-foundry-developers\\foundry-vtt-types\\src\\foundry\\client\\ui\\filepicker.d.ts",
      "interface FilePickerOptions extends ApplicationOptions {\n  /** A type of file to target, in \"audio\", \"image\", \"video\", \"imagevideo\" or \"folder\" */\n  type?: FilePicker.Type | undefined;\n\n  /** The current file path being modified, if any */\n  current?: string | undefined;\n\n  /** A current file source in \"data\", \"public\", or \"s3\" */\n  activeSource?: FilePicker.SourceType | undefined;\n\n  /** A callback function to trigger once a file has been selected */\n  callback?: FilePicker.Callback | undefined;\n\n  /** A flag which permits explicitly disallowing upload, true by default */\n  allowUpload?: boolean | undefined;\n\n  /** An HTML form field that the result of this selection is applied to */\n  field?: HTMLElement | undefined;\n\n  /** An HTML button element which triggers the display of this picker */\n  button?: HTMLElement | undefined;\n\n  /** The picker display mode in FilePicker.DISPLAY_MODES */\n  displayMode?: FilePicker.DisplayMode | undefined;\n\n  /** Display the tile size configuration. */\n  tileSize?: boolean | undefined;\n}\n\n/**\n * The FilePicker application renders contents of the server-side public directory\n * This app allows for navigating and uploading files to the public path\n * @typeParam Options - the type of the options object\n * @typeParam Data    - The data structure used to render the handlebars template.\n */\ndeclare class FilePicker<\n  Options extends FilePickerOptions = FilePickerOptions,\n  Data extends object = FilePicker.Data\n> extends Application<Options> {\n  /**\n   * @param options - Options that configure the behavior of the FilePicker\n   */\n  constructor(options?: Partial<Options> | undefined);\n\n  /**\n   * The full requested path given by the user\n   */\n  request: string | undefined;\n\n  /**\n   * The file sources which are available for browsing\n   */\n  sources: FilePicker.Sources;\n\n  /**\n   * Track the active source tab which is being browsed\n   * @defaultValue `'data'`\n   */\n  activeSource: FilePicker.SourceType;\n\n  /**\n   * A callback function to trigger once a file has been selected\n   */\n  callback: FilePicker.Callback | undefined;\n\n  /**\n   * The latest set of results browsed from the server\n   * @remarks This is never set.\n   */\n  results: {};\n\n  /**\n   * The general file type which controls the set of extensions which will be accepted\n   */\n  type: FilePicker.Type;\n\n  /**\n   * The target HTML element this file picker is bound to\n   */\n  field: HTMLElement | undefined;\n\n  /**\n   * A button which controls the display of the picker UI\n   */\n  button: HTMLElement | undefined;\n\n  /**\n   * The display mode of the FilePicker UI\n   * @defaultValue `FilePicker.LAST_DISPLAY_MODE`\n   */\n  displayMode: FilePicker.DisplayMode;\n\n  /**\n   * The current set of file extensions which are being filtered upon\n   */\n  extensions: string[] | undefined;\n\n  protected _loaded: boolean;\n\n  /**\n   * Record the last-browsed directory path so that re-opening a different FilePicker instance uses the same target\n   * @defaultValue `\"\"`\n   */\n  static LAST_BROWSED_DIRECTORY: string;\n\n  /**\n   * Record the last-configured tile size which can automatically be applied to new FilePicker instances\n   * @defaultValue `null`\n   */\n  static LAST_TILE_SIZE: number | null;\n\n  /**\n   * Record the last-configured display mode so that re-opening a different FilePicker instance uses the same mode.\n   * @defaultValue `'list'`\n   */\n  static LAST_DISPLAY_MODE: FilePicker.DisplayMode;\n\n  /**\n   * Enumerate the allowed FilePicker display modes\n   */\n  static DISPLAY_MODES: ['list', 'thumbs', 'tiles', 'images'];\n\n  /**\n   * Cache the names of S3 buckets which can be used\n   * @defaultValue `null`\n   */\n  static S3_BUCKETS: string[] | null;\n\n  /**\n   * @defaultValue\n   * ```typescript\n   * foundry.utils.mergeObject(super.defaultOptions, {\n   *   template: \"templates/apps/filepicker.html\",\n   *   classes: [\"filepicker\"],\n   *   width: 520,\n   *   tabs: [{navSelector: \".tabs\"}],\n   *   dragDrop: [{dragSelector: \".file\", dropSelector: \".filepicker-body\"}],\n   *   tileSize: false,\n   *   filters: [{inputSelector: 'input[name=\"filter\"]', contentSelector: \".filepicker-body\"}]\n   * })\n   * ```\n   */\n  static override get defaultOptions(): FilePickerOptions;\n\n  /**\n   * Given a current file path, determine the directory it belongs to\n   * @param target - The currently requested target path\n   * @returns An array of the inferred source and target directory path\n   * @internal\n   */\n  protected _inferCurrentDirectory(target: string | undefined): [string, string];\n\n  /**\n   * Get the valid file extensions for a given named file picker type\n   * @internal\n   */\n  protected _getExtensions(type: FilePicker.Type): string[] | undefined;\n\n  /**\n   * Test a URL to see if it matches a well known s3 key pattern\n   * @param url - An input URL to test\n   * @returns A regular expression match\n   */\n  static matchS3URL(url: string): RegExpMatchArray | null;\n\n  /**\n   * Parse a s3 key to learn the bucket and the key prefix used for the request\n   * @param key - A fully qualified key name or prefix path\n   */\n  static parseS3URL(key: string): { bucket: string | null; keyPrefix: string };\n\n  override get title(): string;\n\n  /**\n   * Return the source object for the currently active source\n   */\n  get source(): FilePicker.Source;\n\n  /**\n   * Return the target directory for the currently active source\n   */\n  get target(): string;\n\n  /**\n   * Return a flag for whether the current user is able to upload file content\n   */\n  get canUpload(): boolean;\n\n  /**\n   * Return the upload URL to which the FilePicker should post uploaded files\n   */\n  static get uploadURL(): string;\n\n  override getData(options?: Partial<Options> | undefined): Data | Promise<Data>;\n\n  /**\n   * Browse to a specific location for this FilePicker instance\n   * @param target - The target within the currently active source location.\n   * @param options - Browsing options (default: `{}`)\n   */\n  browse(target: string, options?: FilePicker.BrowseOptions | undefined): Promise<FilePicker.BrowseResult | undefined>;\n\n  /**\n   * Browse files for a certain directory location\n   * @param source  - The source location in which to browse. See FilePicker#sources for details\n   * @param target  - The target within the source location (default: `\"\"`)\n   * @param options - Optional arguments (default: `{}`)\n   *\n   * @returns A Promise which resolves to the directories and files contained in the location\n   */\n  static browse(\n    source: FilePicker.SourceType,\n    target: string,\n    options?: FilePicker.BrowseOptions | undefined\n  ): Promise<FilePicker.BrowseResult>;\n\n  /**\n   * Configure metadata settings regarding a certain file system path\n   * @param source  - The source location in which to browse. See FilePicker#sources for details\n   * @param target  - The target within the source location\n   * @param options - Optional arguments which modify the request (default: `{}`)\n   */\n  static configurePath(\n    source: FilePicker.SourceType,\n    target: string,\n    options?: FilePicker.ConfigurePathOptions | undefined\n  ): Promise<FilePicker.ConfigurePathResult>;\n\n  /**\n   * Create a subdirectory within a given source. The requested subdirectory path must not already exist.\n   * @param source  - The source location in which to browse. See FilePicker#sources for details\n   * @param target  - The target within the source location\n   * @param options - Optional arguments which modify the request (default: `{}`)\n   */\n  static createDirectory(\n    source: FilePicker.SourceType,\n    target: string,\n    options?: FilePicker.CreateDirectoryOptions | undefined\n  ): Promise<string>;\n\n  /**\n   * General dispatcher method to submit file management commands to the server\n   * @internal\n   */\n  protected static _manageFiles(\n    data: FilePicker.BrowseFilesData,\n    options?: FilePicker.BrowseOptions | undefined\n  ): Promise<FilePicker.BrowseResult>;\n  protected static _manageFiles(\n    data: FilePicker.ConfigurePathData,\n    options?: FilePicker.ConfigurePathOptions | undefined\n  ): Promise<FilePicker.ConfigurePathResult>;\n  protected static _manageFiles(\n    data: FilePicker.CreateDirectoryData,\n    options?: FilePicker.CreateDirectoryOptions | undefined\n  ): Promise<string>;\n\n  /**\n   * Dispatch a POST request to the server containing a directory path and a file to upload\n   * @param source  - The data source to which the file should be uploaded\n   * @param path    - The destination path\n   * @param file    - The File object to upload\n   * @param body    - Additional file upload options sent in the POST body\n   *                  (default: `{}`)\n   * @param options - Additional options to configure how the method behaves\n   *                  (default `{}`)\n   * @returns The response object\n   */\n  static upload(\n    source: FilePicker.SourceType,\n    path: string,\n    file: File,\n    body?: FilePicker.UploadBody | undefined,\n    options?: FilePicker.UploadOptions | undefined\n  ): Promise<FilePicker.UploadResult | false | void | {}>;\n\n  /**\n   * Additional actions performed when the file-picker UI is rendered\n   */\n  override render(force?: boolean | undefined, options?: Application.RenderOptions<Options> | undefined): this;\n\n  override activateListeners(html: JQuery): void;\n\n  /**\n   * Handle a click event to change the display mode of the File Picker\n   * @param event - The triggering click event\n   * @internal\n   */\n  protected _onChangeDisplayMode(event: JQuery.ClickEvent): void;\n\n  protected override _onChangeTab(event: MouseEvent | null, tabs: Tabs, active: this['activeSource']): void;\n\n  protected override _canDragStart(selector: string | null): boolean;\n\n  protected override _canDragDrop(selector: string | null): boolean;\n\n  protected override _onDragStart(event: DragEvent): void;\n\n  /**\n   * @internal\n   */\n  protected override _onDrop(event: DragEvent): void;\n\n  /**\n   * Handle user submission of the address bar to request an explicit target\n   * @param event - The originating keydown event\n   * @internal\n   */\n  protected _onRequestTarget(event: KeyboardEvent): void;\n\n  /**\n   * Handle requests from the IntersectionObserver to lazily load an image file\n   * @internal\n   */\n  protected _onLazyLoadImages(...args: Parameters<SidebarTab['_onLazyLoadImage']>): void;\n\n  /**\n   * Handle file or folder selection within the file picker\n   * @param event - The originating click event\n   * @internal\n   */\n  protected _onPick(event: JQuery.ClickEvent): void;\n\n  /**\n   * Handle backwards navigation of the fol6der structure\n   * @internal\n   */\n  protected _onClickDirectoryControl(event: JQuery.ClickEvent): void;\n\n  /**\n   * Present the user with a dialog to create a subdirectory within their currently browsed file storate location.\n   * @internal\n   */\n  protected _createDirectoryDialog(source: FilePicker.Source): void;\n\n  /**\n   * Handle changes to the bucket selector\n   * @internal\n   */\n  protected _onChangeBucket(event: JQuery.ChangeEvent): void;\n\n  /** */\n\n  protected override _onSearchFilter(event: KeyboardEvent, query: string, rgx: RegExp, html: HTMLElement): void;\n\n  protected _onSubmit(ev: Event): void;\n\n  /**\n   * Handle file upload\n   * @param ev - The file upload event\n   * @internal\n   */\n  protected _onUpload(ev: Event): void;\n\n  /**\n   * Bind the file picker to a new target field.\n   * Assumes the user will provide a <button> HTMLElement which has the data-target and data-type attributes\n   * The data-target attribute should provide the name of the input field which should receive the selected file\n   * The data-type attribute is a string in [\"image\", \"audio\"] which sets the file extensions which will be accepted\n   *\n   * @param button - The button element\n   */\n  static fromButton(button: HTMLButtonElement): FilePicker;\n}\n\ndeclare namespace FilePicker {\n  interface BrowseResult {\n    target: string;\n    private: boolean;\n    dirs: string[];\n    privateDirs: string[];\n    files: string[];\n    gridSize: number | null;\n    extensions: [];\n  }\n\n  interface BrowseOptions {\n    /**\n     * A bucket within which to search, if using the S3 source\n     */\n    bucket?: string;\n\n    /**\n     * An Array of file extensions to filter on\n     * @defaultValue `[]` (do not filter on extension)\n     */\n    extensions?: string[];\n\n    /**\n     * The requested dir represents a wildcard path\n     * @defaultValue false\n     */\n    wildcard?: boolean;\n  }\n\n  type Callback = (path: string) => void;\n\n  interface ConfigurePathOptions {\n    bucket?: string | undefined | null;\n\n    private?: boolean | undefined;\n\n    gridSize?: number | undefined;\n  }\n\n  interface ConfigurePathResult {\n    private?: boolean;\n    gridSize?: number;\n  }\n\n  interface CreateDirectoryOptions {\n    /**\n     * @defaultValue `\"\"`\n     */\n    bucket?: string | null;\n  }\n\n  interface Data {\n    bucket: string | null;\n    canGoBack: boolean;\n    canUpload: boolean;\n    canSelect: boolean;\n    cssClass: string;\n    dirs: Dir[];\n    displayMode: FilePicker.DisplayMode;\n    extensions: string[] | undefined;\n    files: File[];\n    isS3: boolean;\n    noResults: boolean;\n    selected: string | undefined;\n    source: Source;\n    sources: Sources;\n    target: string;\n    tileSize: number | null;\n    user: Game['user'];\n    submitText: string;\n  }\n\n  type SourceType = 'data' | 'public' | 's3';\n\n  interface Dir {\n    name: string;\n    path: string;\n    private: boolean;\n  }\n\n  type DisplayMode = ValueOf<typeof FilePicker['DISPLAY_MODES']>;\n\n  interface File {\n    name: string;\n    url: string;\n    img: string;\n  }\n\n  interface ManageFilesDataBase {\n    source: string;\n    target: string;\n  }\n\n  interface BrowseFilesData extends ManageFilesDataBase {\n    action: 'browseFiles';\n  }\n\n  interface ConfigurePathData extends ManageFilesDataBase {\n    action: 'configurePath';\n  }\n\n  interface CreateDirectoryData extends ManageFilesDataBase {\n    action: 'createDirectory';\n  }\n\n  interface Source {\n    target: string;\n    label: string;\n    icon: string;\n  }\n\n  interface Sources {\n    data: Source;\n    public: Source;\n    s3?: Source & {\n      buckets: string[];\n      bucket: string;\n    };\n  }\n\n  type Type = 'any' | 'audio' | 'image' | 'video' | 'imagevideo' | 'folder';\n\n  interface UploadBody {\n    /**\n     * A bucket to upload to, if using the S3 source\n     * @defaultValue `\"\"`\n     */\n    bucket?: string | null | undefined;\n  }\n\n  interface UploadOptions {\n    /**\n     * Display a UI notification when the upload is processed\n     * @defaultValue `true`\n     */\n    notify?: string | undefined;\n  }\n\n  interface UploadResult {\n    message: string;\n    path: string;\n    status: 'success';\n  }\n}\n"
    ]
  